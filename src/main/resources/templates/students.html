<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Student Management System</title>
<!-- 
Design of HTML table to display a list of Students in students.html file
========================================================================
--We are going to use Bootstrap css framework to style our web pages.
--css library is popular for developing Responsive layouts.
--Read more about Bootstrap.
--We are going to use CDN links,instead of downloading and adding bootstrap files in project.
--Go to browser in The bootstrap page..Copy the CSS cdn link and add that to the html page in the head section just below title.
--If you new to bootstrap,I highly recommend you to read more about bootstrap.Just go to the Bootstrap site,Under components,just go through the various staff available there and also the content and layout,very important.
--Now that we are going to use tables, go to table for more interesting table layouts which you can use.

 -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
crossorigin="anonymous">
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-expand-md bg-dark navbar-dark">
  <!-- Brand -->
  <a class="navbar-brand" href="#">Student Management System</a>

  <!-- Toggler/collapsibe Button -->
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>

  <!-- Navbar links -->
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" th:href="@{/students}">Student Management</a>
      </li>
      
    </ul>
  </div>
</nav>


<!-- js jquery cdn -->
<script src="/bootstrap.min.js"></script>
<script type="text/javascript" src="/jquery-3.6.0.js"></script>

          <div class="Container">
                <div class="row">
                      <h1>List Students</h1>
                </div>
                
                <!--
                --Implementing-the Add Student-button feature
                --In the first div am adding a bootstrap css class, row
                --Inside the div i am writing one more div here.Am just going to use bootstrap css  grid system to provide size for the page.I.E <div class="col-lg-3">
                --Inside this div am going to provide anchor tag.
                --Use th:href attribute to provide a link for this button.
                Syntax to provide link for Thymeleaf anchor tag using th:href attribute
                ========================================================================
                 <a th:href="@{/students/new}" class="btn btn-primary btn-sm mb-3">Add Student</a>
                                    |
                                  URL--This is the request URL that we are going to handle later in the StudentController.Visit the StudentController class to see this.
                 --To the anchor tag add a bootstrap css class,"button button-primary button-small marginbuttton-3.i.e class="btn btn-primary btn-sm mb-3"
                 --We are going to handle this request(/students/new) in the StudentController.Go there to see.
                 -->
                
                <div class="row">
                    <div class="col-lg-3">
                       <a th:href="@{/students/new}" class="btn btn-primary btn-sm mb-3">Add Student</a>
                    </div>
                </div>
                <table class="table table-striped table-bordered" >
                       <thead class="table-dark">
                             <tr>
                                 <th>Student First Name</th>
                                 <th>Student Last Name</th>
                                 <th>Student Email</th>
                                 <th>Actions</th>
                             </tr>
                       </thead>
                       
 <!-- 
--We need to display the table rows dynamically, because if you see here in StudentController we've added a list of students to the model and we are going to display this list of students here in this HTML file/View.
--This students list we are going to iterate and we are going to display here in the table body.
--For that, we are going to use th:each attribute
--In thymeleaf, iteration is achieved by using the th:each attribute.
Accessing the students object/reference variable/key/Model by using the below syntax:
=============================================================================
${key}

--th:each attribute just works as for each loop
--after accessing the key to the model,we are going to store this to some variable which we are going to use  during the iteration process. EX:
         th:each="student:${students}"
--In the html tag we need to add the url to the official thymeleaf website in order for us to use thymeleaf attributes in our html page.I.E
        <html xmlns:th="http://www.thymeleaf.org">
--Else if we don't we will get warnings like: udefined attribute name when you mouse over the various thymeleaf attributes you just included in your html  file.
Thymeleaf syntax to display Model data
========================================
--We use the attribute -th:text-
EX: th:text="${student.firstName}"
Finally you can go ahead and add records to the DB.
-Instead of adding records manually to the DB,we gonna write a code to add the records to the table.
-Go to the Spring boot main entry point class,implement this class from CommandLineRunner interface.
This provides a method called run==>Implement this method.
-This run method basically executes when we run our Spring boot appn.
-In this method we gonna write some logic to insert some few student records.
-Before that we are going to inject StudentRepository in this main class.The reason is because we are going to call StudentRepository methods here.
-Go ahead and create various student objects in this run method as implementation and then using studentRepository reference variable, call save() method to persist the various objects to the DB:
Visit main method For all this information.
  -->                      
                       
                       <tbody>
                            <tr th:each="student:${students}">
                               <td th:text="${student.firstName}"></td>
                                <td th:text="${student.lastName}"></td>
                                 <td th:text="${student.email}"></td>
                                 <td>
                                 <a th:href="@{/students/edit/{id}(id=${student.id})}"
                                 class="btn btn-primary">Update</a>
                                 <a th:href="@{/students/{id}(id=${student.id})}"
                                 class="btn btn-danger">Delete</a>
                                 </td>
                                     
                            </tr>
                       </tbody>
                </table>

  <footer class="bg-dark text-center text-white">

    <!-- Section: Social media -->
    <section class="mb-4">
      <!-- Facebook -->
      <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"
        ><i class="fab fa-facebook-f"></i
      ></a>

      <!-- Twitter -->
      <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"
        ><i class="fab fa-twitter"></i
      ></a>

      <!-- Google -->
      <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"
        ><i class="fab fa-google"></i
      ></a>

      <!-- Instagram -->
      <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"
        ><i class="fab fa-instagram"></i
      ></a>

      <!-- Linkedin -->
      <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"
        ><i class="fab fa-linkedin-in"></i
      ></a>

      <!-- Github -->
      <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"
        ><i class="fab fa-github"></i
      ></a>
    </section>
  <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
     <p>Copyright &copy;2022 by TMI Colince</p>
  </div>
</footer>
  
</div>

</body>
</html>